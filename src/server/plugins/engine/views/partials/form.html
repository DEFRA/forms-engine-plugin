{% from "govuk/components/button/macro.njk" import govukButton %}
{% from "govuk/components/summary-list/macro.njk" import govukSummaryList -%}

<form method="post" novalidate>
  <input type="hidden" name="crumb" value="{{ crumb }}">

  {{ componentList(components) }}

  <div class="govuk-button-group">
    {% for button in buttons %}

      {% set isFirst = loop.index0 == 0 %}

      {% if isFirst and isStartPage %}
        {% set btnText = "Start now" %}
        {% set btnIsStart = true %}
      {% else %}
        {% set btnText = button.text %}
        {% set btnIsStart = false %}
      {% endif %}

      {% if button.action %}
        {% set btnName = 'action' %}
      {% else %}
        {% set btnName = undefined %}
      {% endif %}

      {% set btnValue = button.action %}

      {% if isFirst %}
        {% set btnClasses = "" %}
      {% else %}
        {% set btnClasses = "govuk-button--secondary" %}
      {% endif %}

      {{ govukButton({
        text: btnText,
        isStartButton: btnIsStart,
        name: btnName,
        value: btnValue,
        preventDoubleClick: true,
        classes: btnClasses
      }) }}
    {% endfor %}
  </div>
</form>
