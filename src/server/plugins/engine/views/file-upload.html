{% extends 'index.html' %}

{% from "partials/summary-detail.html" import summaryDetail %}
{% from "govuk/components/checkboxes/macro.njk" import govukCheckboxes %}
{% from "govuk/components/error-summary/macro.njk" import govukErrorSummary %}
{% from "govuk/components/file-upload/macro.njk" import govukFileUpload %}
{% from "govuk/components/button/macro.njk" import govukButton %}

{% set uploadComponent = components[0] %}
{% set uploadModel = uploadComponent.model %}
{% set upload = uploadModel.upload %}
{% set formAction = upload.formAction %}

{% block form %}
  {#
  {{ componentList(components | rejectattr('isFormComponent')) }}
  #}
  <form method="post" enctype="multipart/form-data" autocomplete="off" novalidate action="{{ formAction }}">
    {{ govukFileUpload(uploadModel) }}
    {{ govukButton({ text: "Upload file", classes: "govuk-button--secondary" }) }}
  </form>

  <form method="post" novalidate>
    <input type="hidden" name="crumb" value="{{crumb}}"/>
    {#
    {{ componentList(components | selectattr('isFormComponent')) }}
    #}
    {{ componentList([uploadComponent]) }}

    {{ govukButton({ attributes: { id: "submit" }, text: "Continue" }) }}
  </form>
{% endblock %}
