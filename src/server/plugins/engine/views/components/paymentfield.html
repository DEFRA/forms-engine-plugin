{% from "govuk/components/warning-text/macro.njk" import govukWarningText %}
{% from "govuk/components/button/macro.njk" import govukButton %}

{% macro PaymentField(component) %}
  {% set model = component.model %}
  {% set amount = model.amount %}
  {% set description = model.description %}

  <div class="app-payment-field">
    <h2 class="govuk-heading-m">{{ model.label.text if model.label and model.label.text else "Payment details required" }}</h2>

    <p class="govuk-body">{{ description }}</p>

    {{ govukWarningText({
      text: "You may see a pending transaction in your bank account but you will only be charged when you submit the form.",
      iconFallbackText: "Warning"
    }) }}

    <p class="govuk-body">You can submit the form after you have added your payment details.</p>

    <p class="govuk-body govuk-!-margin-bottom-1">Total amount:</p>
    <p class="govuk-heading-l govuk-!-margin-bottom-4 govuk-!-padding-top-0">Â£{{ amount }}</p>

  <div class="govuk-button-group">
    {{ govukButton({
      text: "Add payment details",
      attributes: {
        name: "action",
        value: "external-" + model.name
      },
      classes: "govuk-!-margin-bottom-0"
    }) }}

    {% if allowSaveAndExit %}
      {{ govukButton({
        text: "Save and exit",
        classes: "govuk-button--secondary",
        name: "action",
        value: "save-and-exit",
        preventDoubleClick: true
      }) }}
    {% endif %}
  </div>

  </div>
{% endmacro %}
