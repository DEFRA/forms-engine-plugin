{% from "components/textfield.html" import TextField %}
{% from "govuk/components/details/macro.njk" import govukDetails %}

{% macro OsGridRefField(component) %}
  {% set hasErrors = component.model.errorMessage %}
  <div class="govuk-form-group app-location-field {{ "govuk-form-group--error" if hasErrors }}" data-locationtype="{{component.type | lower}}">
    <div class="app-location-field-inputs">
      {{ TextField(component) }}
    </div>

    {% if component.model.instructionText %}
      {{ govukDetails({
        summaryText: "How to find location details",
        html: component.model.instructionText | markdown | safe,
        classes: "govuk-!-margin-top-3"
      }) }}
    {% endif %}
  </div>
{% endmacro %}
