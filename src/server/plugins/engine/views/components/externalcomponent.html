{% from "govuk/components/button/macro.njk" import govukButton %}
{% from "govuk/components/hint/macro.njk" import govukHint %}

{% macro ExternalComponent(component, bodyHtml) %}
<div class="govuk-form-group{% if component.model.errors | length %} govuk-form-group--error{% endif %}">
  <h2 class="govuk-heading-m">{{ component.model.label.text }}</h2>

  {% if component.model.hint %}
    {{ govukHint({
      id: component.model.name + "-hint",
      text: component.model.hint.text
    }) }}
  {% endif %}

  {% if component.model.errors | length %}
    <p class="govuk-error-message">
      <span class="govuk-visually-hidden">Error:</span> {{ component.model.errors[0].text }}
    </p>
  {% endif %}

  {{ bodyHtml | safe }}

  {% if component.model.value %}
    {{ govukButton({
      text: "Edit",
      type: "submit",
      name: "action",
      value: "external-component-edit-" + component.model.name,
      preventDoubleClick: true,
      classes: "govuk-button--secondary"
    }) }}
  {% else %}
    {{ govukButton({
      text: "Select",
      type: "submit",
      name: "action",
      value: "external-component-edit-" + component.model.name,
      preventDoubleClick: true,
      classes: "govuk-button--secondary"
    }) }}
  {% endif %}
</div>
{% endmacro %}
